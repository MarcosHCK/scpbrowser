--[[
 * Copyright 2021-2025 MarcosHCK
 * This file is part of scpbrowser.
 *
 * scpbrowser is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * scpbrowser is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with scpbrowser.  If not, see <http://www.gnu.org/licenses/>.
 *
 *]]
local limr = ...
local config = {}
local macros = limr.macros

-- Keep sync
local GRESNAME = '/org/hck/scpbrowser'

do
  macros.path =
  table.concat ({macros.path, 'resource://' .. GRESNAME .. '/?.lua' }, ';')
end

do
  config.DEBUG = @DEBUG@
  config.DEVELOPER = @DEVELOPER@
  config.PACKAGE = "@PACKAGE@"
  config.PACKAGE_BUGREPORT = "@PACKAGE_BUGREPORT@"
  config.PACKAGE_NAME = "@PACKAGE_NAME@"
  config.PACKAGE_RELEASE = "@PACKAGE_RELEASE@"
  config.PACKAGE_STRING = "@PACKAGE_STRING@"
  config.PACKAGE_TARNAME = "@PACKAGE_TARNAME@"
  config.PACKAGE_URL = "@PACKAGE_URL@"
  config.PACKAGE_VERSION = "@PACKAGE_VERSION@"
  config.PACKAGE_VERSION_BUILD = "@PACKAGE_VERSION_BUILD@"
  config.PACKAGE_VERSION_MAYOR = "@PACKAGE_VERSION_MAYOR@"
  config.PACKAGE_VERSION_MICRO = "@PACKAGE_VERSION_MICRO@"
  config.PACKAGE_VERSION_MINOR = "@PACKAGE_VERSION_MINOR@"
  config.resources = (require ('lgi')).Gio.File.new_for_uri ('resource://' .. GRESNAME)
  package.loaded.config = config
end

do
  config.links =
  {
    about = 'scp:///about',
    home = 'scp:///home',
  }
end
